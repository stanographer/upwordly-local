{"ast":null,"code":"import _extends from \"@babel/runtime-corejs2/helpers/esm/extends\";\nimport _objectSpread from \"@babel/runtime-corejs2/helpers/esm/objectSpread\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/stanleysakai/Developer/upwordly-local/pages/view/index.jsx\";\nimport React, { Fragment } from 'react';\nimport dynamic from 'next/dynamic';\nimport { withRouter } from 'next/router';\nimport { animateScroll as scroll } from 'react-scroll'; // Components.\n\nimport TextArea from '../../src/components/LiveTranscript/TextArea';\nimport LiveTranscript from '../../src/components/LiveTranscript';\nimport Provider from '../../src/components/Session/Provider';\nimport WidgetContext from '../../src/context/widget-context'; // Dynamic imports.\n\nvar ScrollButton = dynamic(function () {\n  return import('../../src/components/Controls').then(function (el) {\n    return el.ScrollButton;\n  });\n}, {\n  loadableGenerated: {\n    webpack: function webpack() {\n      return [require.resolveWeak('../../src/components/Controls')];\n    },\n    modules: ['../../src/components/Controls']\n  }\n});\nvar Nav = dynamic(function () {\n  return import('../../src/components/Controls').then(function (el) {\n    return el.Nav;\n  });\n}, {\n  loadableGenerated: {\n    webpack: function webpack() {\n      return [require.resolveWeak('../../src/components/Controls')];\n    },\n    modules: ['../../src/components/Controls']\n  }\n});\nvar Modal = dynamic(function () {\n  return import('react-modal');\n}, {\n  loadableGenerated: {\n    webpack: function webpack() {\n      return [require.resolveWeak('react-modal')];\n    },\n    modules: ['react-modal']\n  }\n});\nvar ModalComponent = dynamic(function () {\n  return import('../../src/components/Controls').then(function (el) {\n    return el.Modal;\n  });\n}, {\n  loadableGenerated: {\n    webpack: function webpack() {\n      return [require.resolveWeak('../../src/components/Controls')];\n    },\n    modules: ['../../src/components/Controls']\n  }\n});\nvar modalStyles = {\n  content: {\n    backgroundColor: '#282c34',\n    top: '50%',\n    left: '50%',\n    right: 'auto',\n    bottom: 'auto',\n    marginRight: '-50%',\n    transform: 'translate(-50%, -50%)',\n    boxShadow: '0 15px 30px 0 rgba(0, 0, 0, 0.11), 0 5px 15px 0 rgba(0, 0, 0, 0.08)'\n  },\n  overlay: {\n    backgroundColor: 'rgb(0, 0, 0, 0.3)'\n  }\n};\n\nvar View =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(View, _React$Component);\n\n  function View(props) {\n    var _this;\n\n    _classCallCheck(this, View);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(View).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"interval\", 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"startScrolling\", function () {\n      // Set the scrolling state to scrolling.\n      _this.setState({\n        scrolling: true\n      }); // Begin auto-scrolling.\n\n\n      _this.interval = setInterval(function () {\n        scroll.scrollToBottom({\n          delay: 0,\n          duration: 100,\n          offset: 30,\n          isDynamic: true,\n          smooth: true\n        });\n      }, 500);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"stopScrolling\", function () {\n      // Stop auto-scrolling.\n      _this.setState({\n        scrolling: false\n      });\n\n      clearInterval(_this.interval);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"openModal\", function () {\n      _this.setState({\n        modalOpen: true\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"closeModal\", function () {\n      _this.setState({\n        modalOpen: false\n      });\n    });\n\n    _this.state = {\n      scrolling: true,\n      modalOpen: false\n    };\n    return _this;\n  }\n\n  _createClass(View, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      // On component load, begin auto-scrolling.\n      this.startScrolling();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.stopScrolling();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var scrolling = this.state.scrolling;\n      var router = this.props.router;\n      return React.createElement(Provider, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, React.createElement(WidgetContext.Consumer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, function (context) {\n        return React.createElement(Fragment, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 99\n          },\n          __self: this\n        }, React.createElement(Modal, {\n          isOpen: context.widgetOpen,\n          onRequestClose: context.closeWidget,\n          contentLabel: \"Widget Modal\",\n          style: modalStyles,\n          ariaHideApp: false,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 100\n          },\n          __self: this\n        }, React.createElement(ModalComponent, {\n          user: router.query.user,\n          job: router.query.job,\n          title: context.currentWidget,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 107\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          className: !scrolling ? 'visible sticky' : 'invisible sticky',\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 113\n          },\n          __self: this\n        }, React.createElement(Nav, {\n          openModal: _this2.openModal,\n          closeModal: _this2.closeModal,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 114\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          style: _objectSpread({}, context.settings, {\n            fontSize: context.settings.fontSize / 10 + 'rem',\n            padding: context.settings.paddingY + 'rem' + ' ' + context.settings.paddingX + 'rem'\n          }),\n          onTouchStart: function onTouchStart() {\n            return _this2.stopScrolling();\n          },\n          onClick: function onClick() {\n            return _this2.stopScrolling();\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 120\n          },\n          __self: this\n        }, React.createElement(LiveTranscript, {\n          user: router.query.user,\n          job: router.query.job,\n          render: function render(state) {\n            return React.createElement(TextArea, _extends({\n              editable: false\n            }, state, {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 131\n              },\n              __self: this\n            }));\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 127\n          },\n          __self: this\n        })), React.createElement(ScrollButton, {\n          \"aria-label\": \"Scroll to Bottom\",\n          click: function click() {\n            _this2.startScrolling();\n          },\n          filter: \"scroll-top-a\",\n          href: \"scroll-top-b\",\n          id: \"scroll-top-b\",\n          path: \"M18 22l8 8 8-8\",\n          scrolling: scrolling,\n          title: \"Scroll to Bottom\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 138\n          },\n          __self: this\n        }));\n      }));\n    }\n  }]);\n\n  return View;\n}(React.Component);\n\nexport default withRouter(View);","map":{"version":3,"sources":["/Users/stanleysakai/Developer/upwordly-local/pages/view/index.jsx"],"names":["React","Fragment","dynamic","withRouter","animateScroll","scroll","TextArea","LiveTranscript","Provider","WidgetContext","ScrollButton","then","el","Nav","Modal","ModalComponent","modalStyles","content","backgroundColor","top","left","right","bottom","marginRight","transform","boxShadow","overlay","View","props","setState","scrolling","interval","setInterval","scrollToBottom","delay","duration","offset","isDynamic","smooth","clearInterval","modalOpen","state","startScrolling","stopScrolling","router","context","widgetOpen","closeWidget","query","user","job","currentWidget","openModal","closeModal","settings","fontSize","padding","paddingY","paddingX","Component"],"mappings":"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","sourcesContent":["import React, { Fragment } from 'react';\nimport dynamic from 'next/dynamic';\nimport { withRouter } from 'next/router';\nimport { animateScroll as scroll } from 'react-scroll';\n\n// Components.\nimport TextArea from '../../src/components/LiveTranscript/TextArea';\nimport LiveTranscript from '../../src/components/LiveTranscript';\nimport Provider from '../../src/components/Session/Provider';\nimport WidgetContext from '../../src/context/widget-context';\n\n// Dynamic imports.\nconst ScrollButton = dynamic(() => import('../../src/components/Controls')\n    .then(el => el.ScrollButton));\nconst Nav = dynamic(() => import('../../src/components/Controls')\n    .then(el => el.Nav));\nconst Modal = dynamic(() => import('react-modal'));\nconst ModalComponent = dynamic(() => import('../../src/components/Controls')\n    .then(el => el.Modal));\n\nconst modalStyles = {\n  content: {\n    backgroundColor: '#282c34',\n    top: '50%',\n    left: '50%',\n    right: 'auto',\n    bottom: 'auto',\n    marginRight: '-50%',\n    transform: 'translate(-50%, -50%)',\n    boxShadow: '0 15px 30px 0 rgba(0, 0, 0, 0.11), 0 5px 15px 0 rgba(0, 0, 0, 0.08)',\n  },\n  overlay: {\n    backgroundColor: 'rgb(0, 0, 0, 0.3)',\n  }\n};\n\nclass View extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      scrolling: true,\n      modalOpen: false,\n    };\n  }\n\n  interval = 0;\n\n  componentDidMount() {\n\n    // On component load, begin auto-scrolling.\n    this.startScrolling();\n  }\n\n  componentWillUnmount() {\n    this.stopScrolling();\n  }\n\n  startScrolling = () => {\n\n    // Set the scrolling state to scrolling.\n    this.setState({scrolling: true});\n\n    // Begin auto-scrolling.\n    this.interval = setInterval(() => {\n      scroll.scrollToBottom({\n        delay: 0,\n        duration: 100,\n        offset: 30,\n        isDynamic: true,\n        smooth: true,\n      });\n    }, 500);\n  };\n\n  stopScrolling = () => {\n\n    // Stop auto-scrolling.\n    this.setState({scrolling: false});\n    clearInterval(this.interval);\n  };\n\n  openModal = () => {\n    this.setState({modalOpen: true});\n  };\n\n  closeModal = () => {\n    this.setState({modalOpen: false});\n  };\n\n  render() {\n    const {scrolling} = this.state;\n    const {router} = this.props;\n\n    return (\n        <Provider>\n          <WidgetContext.Consumer>\n            {context => (\n                <Fragment>\n                  <Modal\n                    isOpen={context.widgetOpen}\n                    onRequestClose={context.closeWidget}\n                    contentLabel=\"Widget Modal\"\n                    style={modalStyles}\n                    ariaHideApp={false}\n                >\n                  <ModalComponent\n                      user={router.query.user}\n                      job={router.query.job}\n                      title={context.currentWidget}\n                  />\n                </Modal>\n                  <div className={!scrolling ? 'visible sticky' : 'invisible sticky'}>\n                    <Nav\n                        openModal={this.openModal}\n                        closeModal={this.closeModal}\n                    />\n                  </div>\n                  {/*px-8 py-8 text-2xl md:text-5xl*/}\n                  <div style={{\n                    ...context.settings,\n                    fontSize: (context.settings.fontSize / 10) + 'rem',\n                    padding: context.settings.paddingY + 'rem' + ' ' + context.settings.paddingX + 'rem',\n                  }}\n                       onTouchStart={() => this.stopScrolling()}\n                       onClick={() => this.stopScrolling()}>\n                    <LiveTranscript\n                        user={router.query.user}\n                        job={router.query.job}\n                        render={(state) => (\n                            <TextArea\n                                editable={false}\n                                {...state}\n                            />\n                        )}\n                    />\n                  </div>\n                  <ScrollButton\n                      aria-label=\"Scroll to Bottom\"\n                      click={() => {\n                        this.startScrolling();\n                      }}\n                      filter=\"scroll-top-a\"\n                      href=\"scroll-top-b\"\n                      id=\"scroll-top-b\"\n                      path=\"M18 22l8 8 8-8\"\n                      scrolling={scrolling}\n                      title=\"Scroll to Bottom\" />\n                </Fragment>\n            )}\n          </WidgetContext.Consumer>\n        </Provider>\n    );\n  }\n}\n\nexport default withRouter(View);"]},"metadata":{},"sourceType":"module"}