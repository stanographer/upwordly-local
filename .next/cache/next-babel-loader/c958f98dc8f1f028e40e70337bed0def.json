{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime-corejs2/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"@babel/runtime-corejs2/helpers/esm/objectSpread\";\nimport _JSON$stringify from \"@babel/runtime-corejs2/core-js/json/stringify\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/stanleysakai/Developer/upwordly-local/pages/signup/index.jsx\";\nimport React, { Fragment } from 'react';\nimport Provider from '../../src/components/Session/Provider';\nimport Head from 'next/head';\nimport Router, { withRouter } from 'next/router';\nimport dynamic from 'next/dynamic';\nimport { auth, db } from '../../src/firebase';\nimport { withFirebase } from '../../src/firebase/context';\nimport * as ROUTES from '../../src/constants/routes';\nvar NavLogo = dynamic(function () {\n  return import('../../src/components/Logos/NavLogo');\n}, {\n  loadableGenerated: {\n    webpack: function webpack() {\n      return [require.resolveWeak('../../src/components/Logos/NavLogo')];\n    },\n    modules: ['../../src/components/Logos/NavLogo']\n  }\n});\nvar Typed = dynamic(function () {\n  return import('react-typed');\n}, {\n  loadableGenerated: {\n    webpack: function webpack() {\n      return [require.resolveWeak('react-typed')];\n    },\n    modules: ['react-typed']\n  }\n}); // Sign-up components.\n\nvar EmailComponent = dynamic(function () {\n  return import('./Email');\n}, {\n  loadableGenerated: {\n    webpack: function webpack() {\n      return [require.resolveWeak('./Email')];\n    },\n    modules: ['./Email']\n  }\n});\nvar NameAndLocation = dynamic(function () {\n  return import('./NameAndLocation');\n}, {\n  loadableGenerated: {\n    webpack: function webpack() {\n      return [require.resolveWeak('./NameAndLocation')];\n    },\n    modules: ['./NameAndLocation']\n  }\n});\nvar PaymentComponent = dynamic(function () {\n  return import('./Payment');\n}, {\n  loadableGenerated: {\n    webpack: function webpack() {\n      return [require.resolveWeak('./Payment')];\n    },\n    modules: ['./Payment']\n  }\n});\nvar TokenComponent = dynamic(function () {\n  return import('./Token');\n}, {\n  loadableGenerated: {\n    webpack: function webpack() {\n      return [require.resolveWeak('./Token')];\n    },\n    modules: ['./Token']\n  }\n});\nvar UserInfoComponent = dynamic(function () {\n  return import('./UserInfo');\n}, {\n  loadableGenerated: {\n    webpack: function webpack() {\n      return [require.resolveWeak('./UserInfo')];\n    },\n    modules: ['./UserInfo']\n  }\n});\nvar ValidFieldComponent = dynamic(function () {\n  return import('./ValidField');\n}, {\n  loadableGenerated: {\n    webpack: function webpack() {\n      return [require.resolveWeak('./ValidField')];\n    },\n    modules: ['./ValidField']\n  }\n});\nvar INITIAL_STATE = {\n  email: '',\n  emailValid: false,\n  errors: [],\n  formValid: false,\n  fullName: '',\n  fullNameValid: false,\n  location: {},\n  locationValid: false,\n  password: '',\n  passwordValid: false,\n  payment: '',\n  step: 0,\n  token: '',\n  tokenValid: false,\n  username: '',\n  usernameValid: false\n};\n\nvar SignUp =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(SignUp, _React$Component);\n\n  function SignUp(props) {\n    var _this;\n\n    _classCallCheck(this, SignUp);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SignUp).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"handleInput\", function (e) {\n      // Matches the token to the one in the environment variable.\n      // Trims and lower-cases. If there's a match, the tokenValid\n      // flag is switched to true.\n      if (e.target.name === 'token') {\n        _this.setState(_defineProperty({}, e.target.name, e.target.value.trim().toLowerCase()));\n      } else if (e.target.name === 'email') {\n        _this.setState({\n          email: e.target.value.trim().toLowerCase()\n        });\n      } else if (e.target.name === 'username') {\n        _this.setState({\n          username: e.target.value.toLowerCase()\n        });\n      } else {\n        _this.setState(_defineProperty({}, e.target.name, e.target.value));\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleSubmit\", function (e) {\n      var _this$state = _this.state,\n          email = _this$state.email,\n          emailValid = _this$state.emailValid,\n          fullName = _this$state.fullName,\n          fullNameValid = _this$state.fullNameValid,\n          location = _this$state.location,\n          locationValid = _this$state.locationValid,\n          password = _this$state.password,\n          passwordValid = _this$state.passwordValid,\n          payment = _this$state.payment,\n          token = _this$state.token,\n          tokenValid = _this$state.tokenValid,\n          username = _this$state.username,\n          usernameValid = _this$state.usernameValid;\n\n      if (emailValid && fullNameValid && locationValid && passwordValid && tokenValid && usernameValid) {\n        auth.doCreateUserWithEmailAndPassword(email, password).then(function (authUser) {\n          db.doCreateUser(email, fullName, _JSON$stringify(location), authUser.user.uid, payment, token, username).then(function () {\n            _this.setState(function () {\n              return _objectSpread({}, INITIAL_STATE);\n            });\n\n            Router.push(ROUTES.DASHBOARD);\n          })[\"catch\"](function (err) {\n            return _this.setState({\n              errors: [].concat(_toConsumableArray(_this.state.errors), [err.message])\n            });\n          });\n        })[\"catch\"](function (err) {\n          return _this.setState({\n            errors: [].concat(_toConsumableArray(_this.state.errors), [err.message])\n          });\n        });\n      }\n\n      e.preventDefault();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"validateStepZero\", function (token) {\n      if (token === process.env.REGISTRATION_TOKEN.trim().toLowerCase()) {\n        _this.setState({\n          errors: [],\n          step: _this.state.step += 1,\n          tokenValid: true\n        });\n      } else {\n        _this.setState({\n          errors: ['Sorry. Your token is invalid.']\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"validateStepOne\", function () {\n      var _this$state2 = _this.state,\n          fullName = _this$state2.fullName,\n          location = _this$state2.location;\n      var re = /^[A-Za-z0-9 _]*[A-Za-z0-9][A-Za-z0-9 _]*$/;\n\n      if (!fullName.match(re)) {\n        _this.setState({\n          errors: [].concat(_toConsumableArray(_this.state.errors), ['Your name can only contain alphanumeric characters.'])\n        });\n      } else if (location.description === undefined) {\n        _this.setState({\n          errors: [].concat(_toConsumableArray(_this.state.errors), ['Select the closest matching location.'])\n        });\n      } else {\n        _this.setState({\n          errors: [],\n          fullNameValid: true,\n          locationValid: true,\n          step: _this.state.step += 1\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"validateStepTwo\", function (email) {\n      try {\n        // Regex to make sure that emails have @ signs and all that.\n        var re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/; // Testing to see if the email matches the regex.\n\n        if (!re.test(String(email).trim().toLowerCase())) {\n          _this.setState({\n            errors: ['Your email is badly formatted.']\n          });\n        } else {\n          // Makes sure that there's no duplicate emails.\n          db.checkDupeEmail(email, function (dupe) {\n            if (dupe === true) {\n              _this.setState({\n                errors: ['An account with this email address already exists.']\n              });\n            } else {\n              _this.setState({\n                emailValid: true,\n                errors: [],\n                step: _this.state.step += 1\n              });\n            }\n          });\n        }\n      } catch (err) {\n        console.error(err);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"validateStepThree\", function (username, password) {\n      var usernameRe = /^[a-zA-Z0-9_-]+$/;\n      var passwordRe = /^(?=.*[A-Za-z])(?=.*\\d)(?=.*[@$!%*#?&])[A-Za-z\\d@$!%*#?&]{8,}$/;\n\n      if (!username.match(usernameRe)) {\n        _this.setState({\n          errors: [].concat(_toConsumableArray(_this.state.errors), ['Your username may only contain lowercase letters, numbers, hyphens, and underscores.'])\n        });\n      } else if (!password.match(passwordRe)) {\n        _this.setState({\n          errors: [].concat(_toConsumableArray(_this.state.errors), ['Your password needs at minimum eight characters, at least one letter, one number, and one special character.'])\n        });\n      } else {\n        db.checkDupeUsername(username.trim().toLowerCase(), function (dupe) {\n          if (dupe === true) {\n            _this.setState({\n              errors: ['This username is already taken.']\n            });\n          } else {\n            _this.setState({\n              errors: [],\n              step: _this.state.step += 1,\n              usernameValid: true,\n              passwordValid: true\n            });\n          }\n        });\n      }\n    });\n\n    _this.state = _objectSpread({}, INITIAL_STATE);\n    return _this;\n  }\n\n  _createClass(SignUp, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$state3 = this.state,\n          email = _this$state3.email,\n          errors = _this$state3.errors,\n          fullName = _this$state3.fullName,\n          location = _this$state3.location,\n          password = _this$state3.password,\n          payment = _this$state3.payment,\n          step = _this$state3.step,\n          token = _this$state3.token,\n          username = _this$state3.username;\n\n      var stage = function stage() {\n        switch (step) {\n          case 0:\n            return React.createElement(TokenComponent, {\n              errors: errors,\n              tokenValue: token,\n              handleInput: _this2.handleInput,\n              nextStep: _this2.validateStepZero,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 264\n              },\n              __self: this\n            });\n\n          case 1:\n            return React.createElement(Fragment, {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 273\n              },\n              __self: this\n            }, React.createElement(ValidFieldComponent, {\n              message: \"Your registration token \\\"\".concat(token, \"\\\" is valid.\"),\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 274\n              },\n              __self: this\n            }), React.createElement(NameAndLocation, {\n              errors: errors,\n              fullNameValue: fullName,\n              handleInput: _this2.handleInput,\n              locationValue: location,\n              nextStep: _this2.validateStepOne,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 277\n              },\n              __self: this\n            }));\n\n          case 2:\n            return React.createElement(Fragment, {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 288\n              },\n              __self: this\n            }, React.createElement(ValidFieldComponent, {\n              message: \"Your registration token \\\"\".concat(token, \"\\\" is valid.\"),\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 289\n              },\n              __self: this\n            }), React.createElement(ValidFieldComponent, {\n              message: \"Nice to meet you, \".concat(fullName, \"! I hear the weather is great in \").concat(location.description, \"!\"),\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 292\n              },\n              __self: this\n            }), React.createElement(EmailComponent, {\n              emailValue: email,\n              errors: errors,\n              handleInput: _this2.handleInput,\n              nextStep: _this2.validateStepTwo,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 295\n              },\n              __self: this\n            }));\n\n          case 3:\n            return React.createElement(Fragment, {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 305\n              },\n              __self: this\n            }, React.createElement(ValidFieldComponent, {\n              message: \"Your registration token \\\"\".concat(token, \"\\\" is valid.\"),\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 306\n              },\n              __self: this\n            }), React.createElement(ValidFieldComponent, {\n              message: \"Nice to meet you, \".concat(fullName, \"! I hear the weather is great in \").concat(location.description, \"!\"),\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 309\n              },\n              __self: this\n            }), React.createElement(ValidFieldComponent, {\n              message: \"\".concat(email, \" is a valid and available email address.\"),\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 312\n              },\n              __self: this\n            }), React.createElement(UserInfoComponent, {\n              errors: errors,\n              handleInput: _this2.handleInput,\n              passwordValue: password,\n              usernameValue: username,\n              nextStep: _this2.validateStepThree,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 315\n              },\n              __self: this\n            }));\n\n          case 4:\n            return React.createElement(Fragment, {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 326\n              },\n              __self: this\n            }, React.createElement(ValidFieldComponent, {\n              message: \"Your registration token \\\"\".concat(token, \"\\\" is valid.\"),\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 327\n              },\n              __self: this\n            }), React.createElement(ValidFieldComponent, {\n              message: \"Nice to meet you, \".concat(fullName, \"! I hear the weather is great in \").concat(location.description, \"!\"),\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 330\n              },\n              __self: this\n            }), React.createElement(ValidFieldComponent, {\n              message: \"\".concat(email, \" is a valid and available email address.\"),\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 333\n              },\n              __self: this\n            }), React.createElement(ValidFieldComponent, {\n              message: \"\".concat(username, \" is a valid and available username!\"),\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 336\n              },\n              __self: this\n            }), React.createElement(ValidFieldComponent, {\n              message: \"Nice and strong password!\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 339\n              },\n              __self: this\n            }), React.createElement(PaymentComponent, {\n              errors: errors,\n              handleInput: _this2.handleInput,\n              paymentValue: payment,\n              finish: _this2.handleSubmit,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 342\n              },\n              __self: this\n            }));\n\n          default:\n            break;\n        }\n      };\n\n      return React.createElement(Provider, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 356\n        },\n        __self: this\n      }, React.createElement(Head, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 357\n        },\n        __self: this\n      }, React.createElement(\"title\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 358\n        },\n        __self: this\n      }, \"Create an Upword.ly account\"), React.createElement(\"meta\", {\n        name: \"viewport\",\n        content: \"initial-scale=1.0, width=device-width\",\n        key: \"viewport\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 359\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"container mx-auto h-full flex flex-1 justify-center items-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 365\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"w-full max-w-sm mt-20\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 366\n        },\n        __self: this\n      }, React.createElement(NavLogo, {\n        center: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 367\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"font-sans mb-10 mt-2 text-center justify-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 368\n        },\n        __self: this\n      }, React.createElement(Typed, {\n        className: \"marquee\",\n        strings: ['Welcome to Upword.ly.', 'Let\\'s create you an account.'],\n        typeSpeed: 40,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 369\n        },\n        __self: this\n      })), stage(), React.createElement(\"p\", {\n        className: \"text-center text-grey text-xs mt-10\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 380\n        },\n        __self: this\n      }, \"\\xA92019 Upword.ly. All rights reserved.\"))));\n    }\n  }]);\n\n  return SignUp;\n}(React.Component);\n\nexport default withFirebase(withRouter(SignUp));","map":{"version":3,"sources":["/Users/stanleysakai/Developer/upwordly-local/pages/signup/index.jsx"],"names":["React","Fragment","Provider","Head","Router","withRouter","dynamic","auth","db","withFirebase","ROUTES","NavLogo","Typed","EmailComponent","NameAndLocation","PaymentComponent","TokenComponent","UserInfoComponent","ValidFieldComponent","INITIAL_STATE","email","emailValid","errors","formValid","fullName","fullNameValid","location","locationValid","password","passwordValid","payment","step","token","tokenValid","username","usernameValid","SignUp","props","e","target","name","setState","value","trim","toLowerCase","state","doCreateUserWithEmailAndPassword","then","authUser","doCreateUser","user","uid","push","DASHBOARD","err","message","preventDefault","process","env","REGISTRATION_TOKEN","re","match","description","undefined","test","String","checkDupeEmail","dupe","console","error","usernameRe","passwordRe","checkDupeUsername","stage","handleInput","validateStepZero","validateStepOne","validateStepTwo","validateStepThree","handleSubmit","Component"],"mappings":"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","sourcesContent":["import React, { Fragment } from 'react';\nimport Provider from '../../src/components/Session/Provider';\nimport Head from 'next/head';\nimport Router, { withRouter } from 'next/router';\nimport dynamic from 'next/dynamic';\nimport { auth, db } from '../../src/firebase';\nimport { withFirebase } from '../../src/firebase/context';\nimport * as ROUTES from '../../src/constants/routes';\n\nconst NavLogo = dynamic(() => import('../../src/components/Logos/NavLogo'));\nconst Typed = dynamic(() => import('react-typed'));\n\n// Sign-up components.\nconst EmailComponent = dynamic(() => import('./Email'));\nconst NameAndLocation = dynamic(() => import('./NameAndLocation'));\nconst PaymentComponent = dynamic(() => import('./Payment'));\nconst TokenComponent = dynamic(() => import('./Token'));\nconst UserInfoComponent = dynamic(() => import('./UserInfo'));\nconst ValidFieldComponent = dynamic(() => import('./ValidField'));\n\nconst INITIAL_STATE = {\n  email: '',\n  emailValid: false,\n  errors: [],\n  formValid: false,\n  fullName: '',\n  fullNameValid: false,\n  location: {},\n  locationValid: false,\n  password: '',\n  passwordValid: false,\n  payment: '',\n  step: 0,\n  token: '',\n  tokenValid: false,\n  username: '',\n  usernameValid: false,\n};\n\nclass SignUp extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      ...INITIAL_STATE,\n    };\n  }\n\n  handleInput = e => {\n\n    // Matches the token to the one in the environment variable.\n    // Trims and lower-cases. If there's a match, the tokenValid\n    // flag is switched to true.\n    if (e.target.name === 'token') {\n      this.setState({\n        [e.target.name]: e.target.value.trim().toLowerCase(),\n      });\n    } else if (e.target.name === 'email') {\n      this.setState({\n        email: e.target.value.trim().toLowerCase(),\n      });\n    } else if (e.target.name === 'username') {\n      this.setState({\n        username: e.target.value.toLowerCase(),\n      });\n    } else {\n      this.setState({\n        [e.target.name]: e.target.value,\n      });\n    }\n  };\n\n  handleSubmit = e => {\n    const {\n      email,\n      emailValid,\n      fullName,\n      fullNameValid,\n      location,\n      locationValid,\n      password,\n      passwordValid,\n      payment,\n      token,\n      tokenValid,\n      username,\n      usernameValid,\n    } = this.state;\n\n    if (emailValid && fullNameValid && locationValid && passwordValid && tokenValid && usernameValid) {\n      auth.doCreateUserWithEmailAndPassword(email, password)\n          .then(authUser => {\n            db.doCreateUser(\n                email,\n                fullName,\n                JSON.stringify(location),\n                authUser.user.uid,\n                payment,\n                token,\n                username,\n            )\n                .then(() => {\n                  this.setState(() => ({...INITIAL_STATE}));\n                  Router.push(ROUTES.DASHBOARD);\n                })\n                .catch(err => this.setState({\n                  errors: [\n                    ...this.state.errors,\n                    err.message,\n                  ]\n                }));\n          })\n          .catch(err => this.setState({\n            errors: [\n              ...this.state.errors,\n              err.message,\n            ]\n          }));\n    }\n\n    e.preventDefault();\n  };\n\n  validateStepZero = token => {\n    if (token === process.env.REGISTRATION_TOKEN.trim().toLowerCase()) {\n      this.setState({\n        errors: [],\n        step: this.state.step += 1,\n        tokenValid: true,\n      });\n    } else {\n      this.setState({\n        errors: [\n          'Sorry. Your token is invalid.'\n        ]\n      });\n    }\n  };\n\n  validateStepOne = () => {\n    const {\n      fullName,\n      location,\n    } = this.state;\n\n    const re = /^[A-Za-z0-9 _]*[A-Za-z0-9][A-Za-z0-9 _]*$/;\n\n    if (!fullName.match(re)) {\n      this.setState({\n        errors: [\n          ...this.state.errors,\n          'Your name can only contain alphanumeric characters.',\n        ]\n      });\n    } else if (location.description === undefined) {\n      this.setState({\n        errors: [\n          ...this.state.errors,\n          'Select the closest matching location.'\n        ]\n      });\n    } else {\n      this.setState({\n        errors: [],\n        fullNameValid: true,\n        locationValid: true,\n        step: this.state.step += 1\n      });\n    }\n  };\n\n  validateStepTwo = email => {\n    try {\n\n      // Regex to make sure that emails have @ signs and all that.\n      const re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n\n      // Testing to see if the email matches the regex.\n      if (!re.test(String(email).trim().toLowerCase())) {\n        this.setState({\n          errors: [\n            'Your email is badly formatted.'\n          ]\n        });\n      } else {\n\n        // Makes sure that there's no duplicate emails.\n        db.checkDupeEmail(email, dupe => {\n          if (dupe === true) {\n            this.setState({\n              errors: [\n                'An account with this email address already exists.'\n              ]\n            });\n          } else {\n            this.setState({\n              emailValid: true,\n              errors: [],\n              step: this.state.step += 1,\n            });\n          }\n        });\n      }\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  validateStepThree = (username, password) => {\n    const usernameRe = /^[a-zA-Z0-9_-]+$/;\n    const passwordRe = /^(?=.*[A-Za-z])(?=.*\\d)(?=.*[@$!%*#?&])[A-Za-z\\d@$!%*#?&]{8,}$/;\n\n    if (!username.match(usernameRe)) {\n      this.setState({\n        errors: [\n          ...this.state.errors,\n          'Your username may only contain lowercase letters, numbers, hyphens, and underscores.'\n        ]\n      });\n    } else if (!password.match(passwordRe)) {\n      this.setState({\n        errors: [\n          ...this.state.errors,\n          'Your password needs at minimum eight characters, at least one letter, one number, and one special character.'\n        ]\n      });\n    } else {\n      db.checkDupeUsername(username.trim().toLowerCase(), dupe => {\n        if (dupe === true) {\n          this.setState({\n            errors: [\n              'This username is already taken.'\n            ]\n          });\n        } else {\n          this.setState({\n            errors: [],\n            step: this.state.step += 1,\n            usernameValid: true,\n            passwordValid: true,\n          });\n        }\n      })\n    }\n  };\n\n  render() {\n    const {\n      email,\n      errors,\n      fullName,\n      location,\n      password,\n      payment,\n      step,\n      token,\n      username,\n    } = this.state;\n\n    const stage = () => {\n      switch (step) {\n        case 0:\n          return (\n              <TokenComponent\n                  errors={errors}\n                  tokenValue={token}\n                  handleInput={this.handleInput}\n                  nextStep={this.validateStepZero}\n              />\n          );\n        case 1:\n          return (\n              <Fragment>\n                <ValidFieldComponent\n                    message={`Your registration token \"${token}\" is valid.`}\n                />\n                <NameAndLocation\n                    errors={errors}\n                    fullNameValue={fullName}\n                    handleInput={this.handleInput}\n                    locationValue={location}\n                    nextStep={this.validateStepOne}\n                />\n              </Fragment>\n          );\n        case 2:\n          return (\n              <Fragment>\n                <ValidFieldComponent\n                    message={`Your registration token \"${token}\" is valid.`}\n                />\n                <ValidFieldComponent\n                    message={`Nice to meet you, ${fullName}! I hear the weather is great in ${location.description}!`}\n                />\n                <EmailComponent\n                    emailValue={email}\n                    errors={errors}\n                    handleInput={this.handleInput}\n                    nextStep={this.validateStepTwo}\n                />\n              </Fragment>\n          );\n        case 3:\n          return (\n              <Fragment>\n                <ValidFieldComponent\n                    message={`Your registration token \"${token}\" is valid.`}\n                />\n                <ValidFieldComponent\n                    message={`Nice to meet you, ${fullName}! I hear the weather is great in ${location.description}!`}\n                />\n                <ValidFieldComponent\n                    message={`${email} is a valid and available email address.`}\n                />\n                <UserInfoComponent\n                    errors={errors}\n                    handleInput={this.handleInput}\n                    passwordValue={password}\n                    usernameValue={username}\n                    nextStep={this.validateStepThree}\n                />\n              </Fragment>\n          );\n        case 4:\n          return (\n              <Fragment>\n                <ValidFieldComponent\n                    message={`Your registration token \"${token}\" is valid.`}\n                />\n                <ValidFieldComponent\n                    message={`Nice to meet you, ${fullName}! I hear the weather is great in ${location.description}!`}\n                />\n                <ValidFieldComponent\n                    message={`${email} is a valid and available email address.`}\n                />\n                <ValidFieldComponent\n                    message={`${username} is a valid and available username!`}\n                />\n                <ValidFieldComponent\n                    message={`Nice and strong password!`}\n                />\n                <PaymentComponent\n                    errors={errors}\n                    handleInput={this.handleInput}\n                    paymentValue={payment}\n                    finish={this.handleSubmit}\n                />\n              </Fragment>\n          );\n        default:\n          break;\n      }\n    };\n\n    return (\n        <Provider>\n          <Head>\n            <title>Create an Upword.ly account</title>\n            <meta\n                name=\"viewport\"\n                content=\"initial-scale=1.0, width=device-width\"\n                key=\"viewport\"\n            />\n          </Head>\n          <div className=\"container mx-auto h-full flex flex-1 justify-center items-center\">\n            <div className=\"w-full max-w-sm mt-20\">\n              <NavLogo center={true} />\n              <div className=\"font-sans mb-10 mt-2 text-center justify-center\">\n                <Typed\n                    className=\"marquee\"\n                    strings={[\n                      'Welcome to Upword.ly.',\n                      'Let\\'s create you an account.',\n                    ]}\n                    typeSpeed={40} />\n              </div>\n\n              {stage()}\n\n              <p className=\"text-center text-grey text-xs mt-10\">\n                ©2019 Upword.ly. All rights reserved.\n              </p>\n            </div>\n          </div>\n        </Provider>\n    );\n  }\n}\n\nexport default withFirebase(withRouter(SignUp));\n\n\n"]},"metadata":{},"sourceType":"module"}