{"ast":null,"code":"import _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport _objectSpread from \"@babel/runtime-corejs2/helpers/esm/objectSpread\";\nimport _slicedToArray from \"@babel/runtime-corejs2/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/stanleysakai/Developer/upwordly-local/src/components/DashboardPages/DashboardComponent.jsx\";\nimport React, { Fragment, useEffect, useState } from 'react';\nimport JobCreator from '../../components/Widgets/JobCreator';\nimport JobList from '../../components/Widgets/JobList';\nimport Typed from 'react-typed';\nimport { getUser, getAllJobsByUser } from '../../firebase/db';\n\nvar DashboardComponent = function DashboardComponent(_ref) {\n  var user = _ref.user;\n  console.log('dashboard props', user.uid);\n\n  var _useState = useState({}),\n      _useState2 = _slicedToArray(_useState, 2),\n      authUser = _useState2[0],\n      setAuthUser = _useState2[1];\n\n  var _useState3 = useState({}),\n      _useState4 = _slicedToArray(_useState3, 2),\n      jobsList = _useState4[0],\n      setJobsList = _useState4[1];\n\n  var _useState5 = useState({}),\n      _useState6 = _slicedToArray(_useState5, 2),\n      job = _useState6[0],\n      setJob = _useState6[1];\n\n  var _useState7 = useState([]),\n      _useState8 = _slicedToArray(_useState7, 2),\n      errors = _useState8[0],\n      setErrors = _useState8[1];\n\n  var loadUser = function loadUser(user) {\n    setAuthUser(user);\n    console.log('username', user.username);\n    getAllJobsByUser(user.username, function (jobs) {\n      return setJobsList(jobs);\n    });\n  };\n\n  var setShortName = function setShortName(val) {\n    var re = /^[a-z0-9_\\-]+$/i;\n    val = val.trim().toLowerCase();\n\n    if (!val.match(re) && val !== '') {\n      setJob({\n        shortName: val.trim().toLowerCase()\n      });\n      setErrors(['Your job shortname may only contain lower-case letters, numbers, hyphens, and underscores.']);\n    } else if (val.length > 100) {\n      setErrors(['Your job shortname may not exceed 100 characters in length.']);\n    } else {\n      setJob({\n        shortName: val.trim().toLowerCase()\n      });\n      setErrors([]);\n    }\n  };\n\n  var setTitleAndSpeakers = function setTitleAndSpeakers(key, val) {\n    // Replaces backticks with single quotes.\n    if (val.includes('`')) {\n      val = val.replace('`', '\\'');\n    } // Escapes curly braces.\n\n\n    if (val.includes('{')) {\n      val = val.replace('{', '\\{');\n    }\n\n    if (val.includes('}')) {\n      val = val.replace('{', '\\}');\n    }\n\n    setJob(_objectSpread({}, job, _defineProperty({}, key, val)));\n  };\n\n  useEffect(function () {\n    try {\n      getUser(user.uid, loadUser);\n    } catch (err) {\n      console.error('error', err);\n    }\n  }, []);\n  return React.createElement(Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    className: \"font-apercu text-5xl\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }, \"Dashboard\"), React.createElement(Typed, {\n    className: \"marquee text-teal-200\",\n    strings: [\"Welcome to your control center.\"],\n    typeSpeed: 40,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }), authUser ? React.createElement(\"p\", {\n    className: \"pt-4 pb-2 text-green-200\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, \"Logged in as \", authUser.fullName) : '', React.createElement(\"div\", {\n    className: \"flex flex-wrap -mx-4 my-10\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }, React.createElement(JobCreator, {\n    authUser: authUser,\n    errors: errors,\n    job: job,\n    setShortName: setShortName,\n    setTitleAndSpeakers: setTitleAndSpeakers,\n    uid: user.uid,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  }), React.createElement(JobList, {\n    jobsList: jobsList,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  })));\n};\n\nexport default DashboardComponent;","map":{"version":3,"sources":["/Users/stanleysakai/Developer/upwordly-local/src/components/DashboardPages/DashboardComponent.jsx"],"names":["React","Fragment","useEffect","useState","JobCreator","JobList","Typed","getUser","getAllJobsByUser","DashboardComponent","user","console","log","uid","authUser","setAuthUser","jobsList","setJobsList","job","setJob","errors","setErrors","loadUser","username","jobs","setShortName","val","re","trim","toLowerCase","match","shortName","length","setTitleAndSpeakers","key","includes","replace","err","error","fullName"],"mappings":"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","sourcesContent":["import React, { Fragment, useEffect, useState } from 'react';\nimport JobCreator from '../../components/Widgets/JobCreator';\nimport JobList from '../../components/Widgets/JobList';\nimport Typed from 'react-typed';\nimport { getUser, getAllJobsByUser } from '../../firebase/db';\n\nconst DashboardComponent = ({user}) => {\n  console.log('dashboard props', user.uid);\n\n  let [authUser, setAuthUser] = useState({});\n  let [jobsList, setJobsList] = useState({});\n  let [job, setJob] = useState({});\n  let [errors, setErrors] = useState([]);\n\n  const loadUser = user => {\n    setAuthUser(user);\n    console.log('username', user.username);\n    getAllJobsByUser(user.username, jobs => setJobsList(jobs));\n  };\n\n  const setShortName = val => {\n    const re = /^[a-z0-9_\\-]+$/i;\n\n    val = val.trim().toLowerCase();\n\n    if (!val.match(re) && val !== '') {\n      setJob({\n        shortName: val.trim().toLowerCase()\n      });\n\n      setErrors([\n        'Your job shortname may only contain lower-case letters, numbers, hyphens, and underscores.',\n      ]);\n    } else if (val.length > 100) {\n      setErrors([\n        'Your job shortname may not exceed 100 characters in length.',\n      ]);\n    } else {\n      setJob({\n        shortName: val.trim().toLowerCase()\n      });\n\n      setErrors([]);\n    }\n  };\n\n  const setTitleAndSpeakers = (key, val) => {\n    // Replaces backticks with single quotes.\n    if (val.includes('`')) {\n      val = val.replace('`', '\\'');\n    }\n\n    // Escapes curly braces.\n    if (val.includes('{')) {\n      val = val.replace('{', '\\{');\n    }\n\n    if (val.includes('}')) {\n      val = val.replace('{', '\\}');\n    }\n\n    setJob({\n      ...job,\n      [key]: val,\n    });\n  };\n\n  useEffect(() => {\n      try {\n        getUser(user.uid, loadUser);\n      } catch (err) {\n        console.error('error', err);\n      }\n  }, []);\n\n  return (\n      <Fragment>\n        <p className=\"font-apercu text-5xl\">Dashboard</p>\n        <Typed\n            className=\"marquee text-teal-200\"\n            strings={[\n              `Welcome to your control center.`\n            ]}\n            typeSpeed={40} />\n        {authUser\n            ? <p className=\"pt-4 pb-2 text-green-200\">Logged in as {authUser.fullName}</p>\n            : ''}\n        <div className=\"flex flex-wrap -mx-4 my-10\">\n          <JobCreator\n              authUser={authUser}\n              errors={errors}\n              job={job}\n              setShortName={setShortName}\n              setTitleAndSpeakers={setTitleAndSpeakers}\n              uid={user.uid}\n          />\n          <JobList\n            jobsList={jobsList}\n          />\n        </div>\n      </Fragment>\n  );\n};\n\nexport default DashboardComponent;\n"]},"metadata":{},"sourceType":"module"}