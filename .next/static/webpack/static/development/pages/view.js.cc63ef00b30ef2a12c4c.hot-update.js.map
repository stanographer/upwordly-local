{"version":3,"file":"static/webpack/static/development/pages/view.js.cc63ef00b30ef2a12c4c.hot-update.js","sources":["webpack:///./components/Controls/ButtonGroup.jsx","webpack:///./components/LiveTranscript/index.jsx"],"sourcesContent":["import React from 'react';\n\nconst ButtonGroup = () => {\n  return (\n      <div className=\"inline-flex\">\n        <button className=\"bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded-l\">\n          Prev\n        </button>\n        <button className=\"bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded-r\">\n          Next\n        </button>\n      </div>\n  );\n};\n\nexport default ButtonGroup;\n","import React, { Component, Fragment } from 'react';\nimport ShareDB from '@teamwork/sharedb/lib/client';\nimport ReconnectingWebSocket from 'reconnecting-websocket';\nimport WS from 'isomorphic-ws';\nimport otText from 'ot-text';\n\n// Components.\nimport ButtonGroup from '../../components/Controls/ButtonGroup';\n\nclass LiveTranscript extends Component {\n  constructor(props, context) {\n    super(props, context);\n\n    this.state = {\n      connection: {},\n      doc: {},\n      flag: 'â‰ˆ',\n      loading: true,\n    };\n  }\n\n  fetchDoc = (host) => {\n    const server = {\n      host: process.env.REACT_APP_ENV === 'production' ? 'upword.ly/ws' : host,\n      port: process.env.REACT_APP_ENV === 'production' ? '' : ':9090',\n      protocol: process.env.REACT_APP_ENV === 'production' ? 'wss://' : 'ws://',\n      getAddress: function () {\n        console.log(this.protocol + this.host + this.port);\n        return this.protocol + this.host + this.port;\n      },\n    };\n\n    const socket = new ReconnectingWebSocket(server.getAddress(), [], {\n      WebSocket: WS,\n      automaticOpen: true,\n      maxReconnectionDelay: 2000,\n      reconnectInterval: 2000,\n      maxReconnectInterval: 3000,\n      timeoutInterval: 2000,\n      maxRetries: Infinity,\n    });\n\n    ShareDB.types.register(otText.type);\n\n    const connection = new ShareDB.Connection(socket);\n\n    this.setState({\n      connection,\n      doc: connection.get(this.props.user, this.props.job),\n      loading: false,\n    });\n  };\n\n  componentDidMount() {\n    this.fetchDoc(window.location.hostname);\n  }\n\n  render() {\n    const {loading} = this.state;\n\n    console.log('this.statedoc', this.state);\n    return (\n        <Fragment>\n\n          {\n            !loading\n                ? this.props.render(this.state)\n                : null\n          }\n        </Fragment>\n    );\n  }\n}\n\nexport default LiveTranscript;"],"mappings":";;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACfA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;;;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AACA;AAFA;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AAUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AAUA;AAEA;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AAvCA;AACA;AACA;AACA;AACA;AAJA;AAHA;AASA;AACA;;;AAiCA;AACA;AACA;;;AAEA;AAAA;AAGA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;;;;AA9DA;AACA;AAgEA;;;;;A","sourceRoot":""}