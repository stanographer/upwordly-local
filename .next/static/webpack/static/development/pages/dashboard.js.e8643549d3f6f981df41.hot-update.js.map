{"version":3,"file":"static/webpack/static/development/pages/dashboard.js.e8643549d3f6f981df41.hot-update.js","sources":["webpack:///./components/NeedsAuth/index.jsx","webpack:///./src/helpers/withAuth.js"],"sourcesContent":["import React from 'react';\nimport Provider from '../../components/Provider';\nimport Head from 'next/head';\nimport Link from 'next/link';\nimport dynamic from 'next/dynamic';\n\nconst NavLogo = dynamic(() => import('../../components/Logos/NavLogo'));\n\nconst NeedsAuth = () => {\n  return (\n      <Provider>\n        <Head>\n          <title>Sign-in required to view page.</title>\n        </Head>\n        <div className=\"container mx-auto h-full flex flex-1 justify-center items-center\">\n          <div className=\"w-full max-w-sm mt-20\">\n            <NavLogo center={true} />\n            <div className=\"font-sans font-hairline mb-12 mt-12 text-center\">\n              <h1>Sorry. You must be signed in to view this page.</h1>\n              <p className=\"mt-2\"><Link href=\"/signin\" prefetch={true} withData><a className=\"text-green-200 underline\">\n                Click here</a></Link> to sign in.\n              </p>\n            </div>\n            <p className=\"text-center text-grey text-xs\">\n              Â©2019 Upword.ly. All rights reserved.\n            </p>\n          </div>\n        </div>\n      </Provider>\n  );\n};\n\nexport default NeedsAuth;\n\n\n","import React from 'react';\nimport router from 'next/router';\nimport { auth } from '../firebase';\nimport NeedsAuth from '../../components/NeedsAuth';\n\nconst withAuth = (Component) => {\n  return class extends React.Component {\n    constructor(props) {\n      super(props);\n      this.state = {\n        status: 'LOADING',\n      };\n    }\n\n    componentDidMount() {\n      auth.onAuthStateChanged(authUser => {\n        console.log(authUser);\n        if (authUser) {\n          this.setState({\n            status: 'SIGNED_IN'\n          });\n        } else {\n          router.push('/signin');\n        }\n      });\n    }\n\n    renderContent() {\n      const {status} = this.state;\n      if (status === 'LOADING') {\n        return <h1>Loading ......</h1>;\n      } else if (status === 'SIGNED_IN') {\n        return <Component {...this.props} />;\n      }\n    }\n\n    render() {\n      return (\n          <React.Fragment>\n            {this.renderContent()}\n          </React.Fragment>\n      );\n    }\n  };\n};\nexport default withAuth;"],"mappings":";;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AChCA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AADA;AACA;AAAA;AACA;AACA;AADA;AAFA;AAKA;AACA;AAPA;AAAA;AAAA;AAQA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AAnBA;AAAA;AAAA;AAqBA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AA5BA;AAAA;AAAA;AA+BA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AApCA;AACA;AADA;AAAA;AAAA;AAsCA;AACA;AAAA;;;;A","sourceRoot":""}